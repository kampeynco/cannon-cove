<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5PVKV6PV06"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-5PVKV6PV06');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <meta name="description"
    content="Cannon Cove ‚Äî A pirate artillery game. Aim your cannon, account for the wind, and blast your rival to splinters!" />
  <title>Cannon Cove ‚Äî Pirate Artillery Game</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/favicon.png" />
  <link rel="apple-touch-icon" href="/favicon.png" />

  <!-- Open Graph (Facebook, iMessage, Discord, Slack, etc.) -->
  <meta property="og:title" content="Cannon Cove ‚Äî Pirate Artillery Game" />
  <meta property="og:description"
    content="Aim your cannon, account for the wind, and blast your rival to splinters! A free browser-based pirate artillery game." />
  <meta property="og:image" content="https://cannoncove.app/og-image.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:url" content="https://cannoncove.app" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Cannon Cove" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Cannon Cove ‚Äî Pirate Artillery Game" />
  <meta name="twitter:description"
    content="Aim your cannon, account for the wind, and blast your rival to splinters!" />
  <meta name="twitter:image" content="https://cannoncove.app/og-image.png" />

  <!-- Theme color for mobile browsers -->
  <meta name="theme-color" content="#0B1D3A" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Pirata+One&display=swap"
    rel="stylesheet" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5PVKV6PV06"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-5PVKV6PV06');
  </script>
</head>

<body>
  <!-- In-app browser detection (Facebook, Instagram, TikTok, etc.) -->
  <div id="inAppOverlay"
    style="display:none;position:fixed;inset:0;z-index:99999;background:#0B1D3A;color:#F5F0E8;font-family:Inter,sans-serif;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:24px;">
    <div style="font-size:48px;margin-bottom:16px;">üè¥‚Äç‚ò†Ô∏è</div>
    <h2 style="font-family:'Pirata One',Georgia,serif;font-size:28px;color:#F4A623;margin:0 0 12px;">Open in Your
      Browser</h2>
    <p style="font-size:15px;color:rgba(245,240,232,0.8);margin:0 0 24px;max-width:300px;">Cannon Cove works best in
      Safari or Chrome. Tap below to open it there!</p>
    <button id="inAppOpenBtn"
      style="padding:12px 32px;background:#F4A623;color:#0B1D3A;border:none;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer;margin-bottom:12px;">Open
      in Browser</button>
    <p id="inAppCopied" style="font-size:13px;color:rgba(245,240,232,0.5);margin:0;display:none;">‚úì URL copied! Paste in
      Safari or Chrome.</p>
    <a href="#" id="inAppDismiss"
      style="display:inline-block;margin-top:20px;color:rgba(245,240,232,0.5);font-size:13px;text-decoration:none;">Continue
      here instead ‚Üí</a>
  </div>
  <script>
    (function () {
      var ua = navigator.userAgent || '';
      var isInApp = /FBAN|FBAV|Instagram|Line\/|Twitter|Snapchat|TikTok/i.test(ua);
      if (!isInApp) return;

      var overlay = document.getElementById('inAppOverlay');
      overlay.style.display = 'flex';

      var isAndroid = /Android/i.test(ua);
      var url = window.location.href;

      document.getElementById('inAppOpenBtn').addEventListener('click', function () {
        if (isAndroid) {
          // Android: force open in Chrome via intent
          var intentUrl = 'intent://' + url.replace(/^https?:\/\//, '') + '#Intent;scheme=https;package=com.android.chrome;end';
          window.location.href = intentUrl;
        } else {
          // iOS: copy URL to clipboard and guide user
          navigator.clipboard.writeText(url).then(function () {
            document.getElementById('inAppCopied').style.display = 'block';
            document.getElementById('inAppOpenBtn').textContent = 'URL Copied!';
          }).catch(function () {
            // Fallback: prompt
            prompt('Copy this URL and paste in Safari:', url);
          });
        }
      });

      document.getElementById('inAppDismiss').addEventListener('click', function (e) {
        e.preventDefault();
        overlay.style.display = 'none';
      });
    })();
  </script>

  <div id="rotateOverlay">
    <div class="rotate-content">
      <div class="rotate-icon">üì±</div>
      <h2>Rotate Your Device</h2>
      <p>Cannon Cove plays best in landscape mode</p>
      <a href="#dismiss-rotate" class="rotate-dismiss"
        onclick="document.getElementById('rotateOverlay').style.display='none'; document.body.classList.remove('portrait-mode'); document.body.dataset.portraitDismissed='1'">Play
        in Portrait ‚Üí</a>
    </div>
  </div>
  <div id="loadingScreen">
    <div class="loading-content">
      <div style="font-size:48px;margin-bottom:16px;">‚öì</div>
      <h1 style="font-family:'Pirata One',Georgia,serif;font-size:36px;color:#F4A623;margin:0 0 12px;">Cannon Cove</h1>
      <p class="loading-text-mobile" style="font-size:14px;color:rgba(245,240,232,0.6);margin:0;">Preparing the fleet‚Ä¶
      </p>
      <p class="loading-text-desktop" style="font-size:14px;color:rgba(245,240,232,0.6);margin:0;">Loading Cannon Cove‚Ä¶
      </p>
    </div>
  </div>
  <div id="phBadge" style="position:fixed;bottom:16px;left:50%;transform:translateX(-50%);z-index:100;display:block;">
    <a href="https://www.producthunt.com/products/cannon-cove?embed=true&amp;utm_source=badge-featured&amp;utm_medium=badge&amp;utm_campaign=badge-cannon-cove" target="_blank" rel="noopener noreferrer"><img alt="Cannon Cove - Aim. Fire. Plunder. | Product Hunt" width="250" height="54" src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=1080640&amp;theme=light&amp;t=1771301036846"></a>
  </div>
  <canvas id="gameCanvas"></canvas>
  <script type="module" src="/src/main.js"></script>
</body>

</html>